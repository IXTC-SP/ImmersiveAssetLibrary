<%- include('../partials/header'); %>
<div class="m-auto">
  <section class="w-75 m-auto">
    <div
      class="container px-5 py-3 rounded-8 shadow-6 d-flex justify-content-between flex-wrap background-color"
    >
      <div class="row d-flex align-self-center justify-content-evenly">
        <div class="align-self-center my-4">
          <h1 class="title">Set Password</h1>
        </div>
          <%if(isInvalid){%> 
            <div class="text-center">
            <p class="error-message m-0 align-self-center"><%= errorObj.message %></p>
            <a href="/login">             
              <i class="fa fa-arrow-left" aria-hidden="true"></i> Back to Login
              </a
            >
          <%}else{%> 
            <div class="align-self-center my-4">
            <% if (!isActivated) {%>
            <%if(errorObj.error){%>
            <!-- <i class="fa-solid fa-circle-exclamation error-message align-self-center px-2"></i> -->
            <p class="error-message m-0"><%= errorObj.message %></p>
            <%}%>
            <form
              action="/authentication/activate?token=<%= token %>&id=<%= userId%>"
              method="POST"
            >
              <!-- Password input -->
              <div class="form-outline mb-4">
                <input
                  name="password"
                  type="password"
                  id="form1Example23"
                  class="form-control form-control-lg"
                />
                <label class="form-label" for="form1Example23">Password</label>
              </div>
              <!-- Confirm Password input -->
              <div class="form-outline mb-4">
                <input
                  name="confirmPassword"
                  type="password"
                  id="form1Example23"
                  class="form-control form-control-lg"
                />
                <label class="form-label" for="form1Example23"
                  >Confirm Password</label
                >
              </div>
              <!-- Submit button -->
              <button type="submit" class="theme-color btn btn-lg btn-block">
                Set
              </button>
            </form>
            <%}else{%> <%if(errorObj.error){%>
            <!-- <i class="fa-solid fa-circle-exclamation error-message align-self-center px-2"></i> -->
            <p class="error-message m-0"><%= errorObj.message %></p>
            <%}%>
            <form
              action="/reset-password?token=<%= token %>&id=<%= userId%>"
              method="POST"
            >
              <!-- Password input -->
              <div class="form-outline mb-4">
                <input
                  name="password"
                  type="password"
                  id="form1Example23"
                  class="form-control form-control-lg"
                />
                <label class="form-label" for="form1Example23">Password</label>
              </div>
              <!-- Confirm Password input -->
              <div class="form-outline mb-4">
                <input
                  name="confirmPassword"
                  type="password"
                  id="form1ExampleConfirmPassword"
                  class="form-control form-control-lg"
                />
                <label class="form-label" for="form1ExampleConfirmPassword"
                  >Confirm Password</label
                >
              </div>
              <!-- Submit button -->
              <button type="submit" class="theme-color btn btn-lg btn-block">
                Set
              </button>
            </form>
            <%}%> 
          <%}%>
        </div>
      </div>
    </div>
  </section>
</div>
<%- include('../partials/footer'); %>
